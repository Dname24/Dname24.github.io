<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2021-12-23T19:56:59-05:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Ciberseguridad y Hacking Ético</title><subtitle>Artículos y Apuntes sobre ciberseguridad</subtitle><author><name>ARgoN</name></author><entry><title type="html">Apuntes del curso Introducción al hacking</title><link href="http://localhost:4000/Apuntes-introducci%C3%B3n-al-hacking/" rel="alternate" type="text/html" title="Apuntes del curso Introducción al hacking" /><published>2021-10-11T00:00:00-05:00</published><updated>2021-10-11T00:00:00-05:00</updated><id>http://localhost:4000/Apuntes-introducci%C3%B3n-al-hacking</id><content type="html" xml:base="http://localhost:4000/Apuntes-introducci%C3%B3n-al-hacking/">&lt;h1 id=&quot;conceptos-básicos&quot;&gt;Conceptos básicos&lt;/h1&gt;
&lt;h2 id=&quot;asignación-e-interpretación-de-permisos&quot;&gt;Asignación e Interpretación de permisos&lt;/h2&gt;

&lt;p&gt;Para interpretar permisos podemos verlos con el comando &lt;strong&gt;ls -l&lt;/strong&gt; el cual nos muestra los permisos que tienen las carpetas o 
archivos y tendremos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
d rwx r-xr-x *****   *****   0 B Fri Nov 19 13:43:46 2021  *****


d: directorio
   rwx           rwx       rwx
Propietario     Grupo     Otros
    P             G         O



   rwx           r-x
   ***         solo se puede leer
                y se puede atravesar


r: leer
w: escribir
x:
  f: ejecutable
  d: se puede atravesar como un (cd &quot;directorio&quot;)


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;También podemos conocerlo de manera numerica de la siguiente forma:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;r = 2^2 = 4&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;w = 2^1 = 2&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;x = 2^0 = 1&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;así como también podemos cambiar esos permisos con &lt;strong&gt;chmod&lt;/strong&gt; ya sea de las siguientes maneras:&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;chmod g+w “directorio”&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;chmod o-w “directorio”&lt;/em&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;chmod 774 “directorio”&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;chmod 751 “directorio”&lt;/em&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div&gt;
&lt;p style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;https://mural.uv.es/oshuso/p1.jpg&quot; width=&quot;500px&quot; /&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Permisos STICKY BIT&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Cuando se le asigna a un directorio, significa que los elementos que hay en ese directorio solo 
pueden ser renombrados o borrados por su propietario o bien por root. El resto de usuarios que 
tengan permisos de lectura y escritura, los podrán leer y modificar, pero no borrar.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;chmod 1775 “directorio”&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Permisos SUID o SGID&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Cuando se activa el bit SUID sobre un fichero significa que el 
que lo ejecute va a tener los mismos permisos que el que creó el archivo.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;chmod 4775 “directorio”&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Con toda esta información podemos abusar y explotar privilegios&lt;/p&gt;

&lt;h2 id=&quot;explotación-de-tareas-cron&quot;&gt;Explotación de tareas Cron&lt;/h2&gt;

&lt;p&gt;Las tareas Cron son las que se ejecutan en intervalos regulares de tiempo &lt;em&gt;en segundo plano&lt;/em&gt;, su estructura es la
siguiente:&lt;/p&gt;

&lt;div&gt;
&lt;p style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;https://www.redeszone.net/app/uploads-redeszone.net/2017/01/Linux-cron-crontab-a%C3%B1adir-tareas-periodicas.png&quot; width=&quot;500px&quot; /&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Con esto podemos ver si alguna tarea se está ejecutando en segundo plano y podemos conseguir dominio root con conocimientos básicos
También podemos crear un script en bash para automatizar la tarea y buscar qué se está ejecutando en segundo plano
por ejemplo este código básico:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;old_process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;ps &lt;span class=&quot;nt&quot;&gt;-eo&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
     &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;new_process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;ps &lt;span class=&quot;nt&quot;&gt;-eo&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
     diff &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$old_process&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$new_process&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 
     | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&amp;gt;\&amp;lt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;old_process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$new_process&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Después de ejecutarlo vemos que permisos tienen las carpetas o archivos, si encontramos un permiso SUID podemos conseguir el “root”
como lo vimos antes.&lt;/p&gt;

&lt;h4 id=&quot;explotación-de-un-path-hijacking&quot;&gt;Explotación de un PATH Hijacking&lt;/h4&gt;

&lt;p&gt;Consiste en suplantar una librería &lt;strong&gt;$PATH&lt;/strong&gt;, que un binario esté usando para inyectar código de forma que 
el atacante escale privilegios y/u obtenga un shell en el sistema o consiga root.
Para aplicar esto de manera sencilla primero vemos el contenido de la variable &lt;strong&gt;$PATH&lt;/strong&gt; con el comando &lt;strong&gt;echo $PATH&lt;/strong&gt;
y nos da como respuesta una ruta, podemos crear un archivo .sh para poder introducirlo como ataques por inyección&lt;/p&gt;

&lt;p&gt;Debemos intuir si un proceso se está ejecutando de forma absoluta o relativa, teniendo en cuenta que esta última 
es de riesgo ya que podemos alterar el flujo de comandos.&lt;/p&gt;

&lt;p&gt;El procedimiento para la explotación:&lt;/p&gt;

&lt;p&gt;1.-Ubicar el programa&lt;/p&gt;

&lt;p&gt;2.-Listar los permisos de la ubicación en la que se encuentra&lt;/p&gt;

&lt;p&gt;3.-Leer el contenido del programa&lt;/p&gt;

&lt;p&gt;4.-Crear un archivo para suplantar una de las librerías del programa&lt;/p&gt;

&lt;p&gt;5.-Inyectar el código deseado&lt;/p&gt;

&lt;p&gt;Podemos usar esta web para ayudarnos &lt;a href=&quot;https://gtfobins.github.io/&quot;&gt;GTFOBins&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;herramienta-nmap&quot;&gt;Herramienta NMAP&lt;/h2&gt;

&lt;p&gt;Existe la herramienta Nmap que se usa para enumerar puertos, tenemos algunos parametros como:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-v&lt;/strong&gt;   :Significa «verbose», por lo que se nos indica lo que está haciendo el análisis al detalle–&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-n&lt;/strong&gt;  :Quita la resolución DNS&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-p-&lt;/strong&gt; :Quiere decir que se escaneará todos los puertos&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-sS&lt;/strong&gt; :Este comando determina si el puerto objetivo está escuchando&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-sV&lt;/strong&gt; :Para detectar las versiones de los servicios&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-sC&lt;/strong&gt; :Sirve para realizar un analisis de secuencia de comandos. Es equivalente a –script = default&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-Pn&lt;/strong&gt; :Si un usuario no cuenta con privilegios elevados sobre paquetes, este es el comando para escanear con la opción «conexión TCP»&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-O&lt;/strong&gt;  :Detecta el sistema operativo&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-A&lt;/strong&gt;  :Escaneo de Sistema Operativo y servicios&lt;/p&gt;

&lt;h5 id=&quot;escaneo-de-servicios-de-banner-ligero&quot;&gt;Escaneo de servicios de banner ligero&lt;/h5&gt;

&lt;p&gt;Es mucho menos ruidoso que un escaneo agresivo y permite obtener datos sin llamar demasiado la atención, 
lo que aporta una clara ventaja.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;nmap &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--version-intensity&lt;/span&gt; 0 &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;también podemos usar los scripts por defecto que vienen con nmap, para buscar vulnerabilidades, etc.
Lo usamos ejecutando este código:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;nmap &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ports&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--scripts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;para saber los nombres de los scripts los podemos filtrar&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;scripts_nmap&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        locate .nse | xargs &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;categories&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&quot;.*?&quot;'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;haciendo-fuzzing-para-encontrar-directorios&quot;&gt;Haciendo Fuzzing para encontrar directorios&lt;/h3&gt;

&lt;p&gt;Podremos hacer fuzzing con los scripts de nmap, pero tener en cuenta que el script solo te enlista algunos directorios 
por eso su peso es menor y no hace tanta bulla como las listas encontradas en el siguiente directorio:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/share/wordlists/dirbuster/&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Usamos este comando para para el fuzzing con nmap&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;nmap &lt;span class=&quot;nt&quot;&gt;-p80&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;--script&lt;/span&gt; http-enum &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; webScan&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Si eres curioso puedes ver como se intercepta el trafico que se envía a las páginas para encontrar esos directorios con Tshark 
o Wireshark; pero también existen otras herramientas para encontrar directorios como:&lt;/p&gt;

&lt;h4 id=&quot;wfuzz&quot;&gt;Wfuzz&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;wfuzz &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; 400 &lt;span class=&quot;nt&quot;&gt;--hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;400 &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/FUZZ&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;-c&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Es para que lo muestre en colores(es opcional)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-L&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Es un follow redirect&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;–hc= 404&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Es para que oculte aquellos directorios que muestran error 404 NOT FOUND&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-t 400&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Para intentar con 400 directorios de la lista, se puede manipular&lt;/p&gt;

&lt;p&gt;Para agregar extensiones a los directorios nos creamos un .txt con los siguientes nombres dentro “php, html, txt” y lo
agregamos a nuestro comando Wfuzz de la siguiente manera.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;wfuzz &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; 400 &lt;span class=&quot;nt&quot;&gt;--hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;400 &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; extensiones.txt &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/FUZZ/FUZ2Z&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;dirbuster&quot;&gt;Dirbuster&lt;/h4&gt;

&lt;p&gt;Esta manera es gráfica asi que no creo que haya problemas y que no sea necesario explicar&lt;/p&gt;

&lt;h4 id=&quot;dirb&quot;&gt;Dirb&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;dirb &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;gobuster&quot;&gt;GoBuster&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;gobuster &lt;span class=&quot;nb&quot;&gt;dir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt &lt;span class=&quot;nt&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;dirsearch&quot;&gt;DirSearch&lt;/h4&gt;

&lt;p&gt;Este se debe descargar desde su git&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;./dirsearch.py &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ip&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;técnicas-de-enumeración-bajo-un-servidor-web&quot;&gt;Técnicas de enumeración bajo un servidor web&lt;/h3&gt;

&lt;h4 id=&quot;wafw00f&quot;&gt;wafw00f&lt;/h4&gt;

&lt;p&gt;Esta herramienta ayuda a buscar si la página web utiliza un WAF(Web Application Firewall)&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;wafw00f &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;uso-de-burpsuite&quot;&gt;Uso de BurpSuite&lt;/h2&gt;

&lt;p&gt;Es una app que sirve de intermediario entre la página y la peticiones que se envía, podemos leer cómo se usa en este link&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.manusoft.es/tutorial-burp-suite/&quot;&gt;BurpSuite&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Usando las herramientas del mismo BurpSuite tenemos el “repeater” que nos permite tener la respuesta de la 
página en la misma app&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://portswigger.net/burp/documentation/desktop/tools/proxy/getting-started&quot;&gt;Repeater&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Otra de las herramientas interesantes de BurpSuite es “intruder” que nos permite automatizar ataques añadiendo payloads 
a los comandos que introducimos a la pagg&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://portswigger.net/burp/documentation/desktop/tools/intruder/using&quot;&gt;Intruder&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;tipos-de-vulnerabilidades&quot;&gt;Tipos de Vulnerabilidades&lt;/h1&gt;

&lt;h2 id=&quot;local-file-intrusion-lfi&quot;&gt;Local File Intrusion (LFI)&lt;/h2&gt;

&lt;p&gt;Esta técnica consiste en incluir ficheros locales, es decir, archivos que se encuentran en el mismo servidor de la web con este tipo
de fallo -a diferencia de Remote File Inclusión o inclusión de archivos remotos (RFI) que incluye archivos alojados en otros 
servidores. Esto se produce como consecuencia de un fallo en la programación de la página, filtrando inadecuadamente lo que se 
incluye al usar funciones en PHP para incluir archivos.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.welivesecurity.com/la-es/2015/01/12/como-funciona-vulnerabilidad-local-file-inclusion/&quot;&gt;LFI&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;log-poisoning---lfi-to-rce&quot;&gt;Log Poisoning - LFI to RCE&lt;/h2&gt;

&lt;p&gt;Cuando uno encuentra una vulnerabilida LFI lo mejor sería convertirla a RCE(Remote Code Execution) 
Entonces, hay una variedad de trucos diferentes para convertir su LFI en RCE, como por ejemplo:&lt;/p&gt;

&lt;p&gt;1.- Using file upload forms/functions&lt;/p&gt;

&lt;p&gt;2.- Using the PHP wrapper expect://command&lt;/p&gt;

&lt;p&gt;3.- Using the PHP wrapper php://file&lt;/p&gt;

&lt;p&gt;4.- Using the PHP wrapper php://filter&lt;/p&gt;

&lt;p&gt;5.- Using PHP input:// stream&lt;/p&gt;

&lt;p&gt;6.- Using data://text/plain;base64,command&lt;/p&gt;

&lt;p&gt;7.- Using /proc/self/environ&lt;/p&gt;

&lt;p&gt;8.- Using /proc/self/fd&lt;/p&gt;

&lt;p&gt;9.- Using log files with controllable input like:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    /var/log/apache/access.log
    /var/log/apache/error.log
    /var/log/vsftpd.log
    /var/log/sshd.log
    /var/log/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;remote-file-inclusion-rfi&quot;&gt;Remote File Inclusion RFI&lt;/h2&gt;

&lt;p&gt;Esta vulnerabilidad consiste en subir archivos a una página desde la de nuestro servidor compartido por el puerto 80.&lt;/p&gt;

&lt;p&gt;Abrimos nuestro servidor de la siguiente manera:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    sudo python3 -m http.server 80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y luego procedemos a continuar con la vulnerabulidad, la podemos buscar directamente desde searchexploit&lt;/p&gt;

&lt;h2 id=&quot;vulnerabilidad-html-injection-y-xss&quot;&gt;Vulnerabilidad HTML Injection y XSS&lt;/h2&gt;

&lt;p&gt;Cross-site scripting (XSS) es un ataque de inyección de código que permite a un atacante ejecutar JavaScript 
malicioso en el navegador de otro usuario, este ataca a otros usuarios que se conectan a dicha página web, 
y los ataca en busca de varias cosas:&lt;/p&gt;

&lt;p&gt;secuestrarles la sesión, robarles la contraseña o cualquier otra 
información que considere de interés.&lt;/p&gt;

&lt;h5 id=&quot;cross-site-scripting-persistente&quot;&gt;Cross Site Scripting persistente&lt;/h5&gt;

&lt;p&gt;Si el código que hemos insertado se queda almacenado en el servidor, por ejemplo formando parte de una contribución en un foro, 
el ataque se dice que es persistente. Cualquier usuario que entre a leer dicha contribución leerá el texto inocente 
pero probablemente no así el código inyectado, que sin embargo sí será interpretado por el navegador del visitante, 
ejecutando las instrucciones que se haya definido.&lt;/p&gt;

&lt;p&gt;Estas acciones pueden ser variadas, y dependerá del tipo de navegador, de sus vulnerabilidades inherentes, 
así como también de las de otros programas que tenga instalados, el Adobe Flash Player por ejemplo, que se ejecuten 
como el atacante tiene previsto. Para él es por tanto una ruleta de la suerte. 
No puede predecir el usuario que va a caer en la trampa.&lt;/p&gt;

&lt;h4 id=&quot;cross-site-scripting-reflejado&quot;&gt;Cross Site Scripting reflejado&lt;/h4&gt;

&lt;p&gt;Pero si el código que insertamos no se queda almacenado en la web, sino que va embebido dentro de un enlace que se hace 
llegar de algún modo a la víctima para que pinche en él, se dice que este tipo de ataque es reflejado.&lt;/p&gt;

&lt;p&gt;Se llama así porque, si finalmente la víctima pincha en el enlace, el navegador le llevará a la página en cuestión, 
que normalmente es un sitio legal donde el usuario tiene cuenta abierta, y a continuación ejecutará el código embebido, 
el cual intentará robarle la «cookie» de la sesión, o los datos que introduzca en el formulario, o incluso podrá desencadenar 
acciones más sofisticadas en su PC. Pero la característica diferencial con el anterior ataque es que en este caso 
en el servidor web no queda almacenado nada.&lt;/p&gt;

&lt;h4 id=&quot;cómo-saber-si-un-sitio-web-tiene-esta-vulnerabilidad&quot;&gt;¿Cómo saber si un sitio web tiene esta vulnerabilidad?&lt;/h4&gt;

&lt;p&gt;Si en un sitio que ofrece búsquedas por palabras clave, en lugar de usar ese campo para buscar, escribimos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &amp;lt;script type = ‘text / javascript’&amp;gt; alert (‘soy vulnerable a XSS reflejado’); &amp;lt;/ script&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;le damos a buscar y, … voilà, entonces aparece un «pop up» con el mensaje «soy vulnerable a XSS reflejado», ¡bingo!: 
este sitio tiene la vulnerabilidad XSS reflejado.&lt;/p&gt;

&lt;h2 id=&quot;vulnerabilidad-cross-site-request-forgery-csrf&quot;&gt;Vulnerabilidad Cross-Site Request Forgery (CSRF)&lt;/h2&gt;

&lt;p&gt;Las tres variantes del CSRF que se perpetúan con mayor frecuencia son las siguientes: 
la más empleada consiste en colar una URL, dicha URL se esconde en una página web externa o en un correo electrónico. 
El acceso a esta URL desencadena la solicitud HTTP y por norma general, el usuario sí puede ver esta URL si presta atención, 
no obstante, el origen de la URL se puede ocultar mediante ingeniería social y la técnica de spoofing.&lt;/p&gt;

&lt;h2 id=&quot;vulnerabilidad-server-side-request-forgery-ssrf&quot;&gt;Vulnerabilidad Server-Side Request Forgery (SSRF)&lt;/h2&gt;

&lt;p&gt;Las vulnerabilidades SSRF (Server Side Request Forgery) y los ataques de XSPA (Cross Site Port Attacks) son dos fallos de seguridad 
que van casi siempre de la mano. Los bugs de SSRF se producen en aplicaciones web inseguras que permiten a un atacante forzar al 
servidor web a realizar peticiones desde dentro del sistema hacia el exterior. Usando esas conexiones, los ataques de XSPA tratan 
de conocer, en base a las respuestas obtenidas, la lista de puertos que se encuentran abiertos o por el contrario cerrados en el 
servidor al que se fuerza la conexión.&lt;/p&gt;

&lt;h2 id=&quot;sql-injection&quot;&gt;SQL Injection&lt;/h2&gt;

&lt;h4 id=&quot;sqlmap&quot;&gt;SQLmap&lt;/h4&gt;

&lt;p&gt;Esta herramienta automatiza las inyecciones SQL y para su uso podemos leerlo por aquí&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.solvetic.com/tutoriales/article/1615-sqlmap-herramienta-de-inyecci%C3%B3n-de-sql-y-ethical-hacking-de-bases-de-datos/#:~:text=Esta%20herramienta%20sirve%20para%20testear,de%20una%20base%20de%20datos.&quot;&gt;SQLmap&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;manera-manual&quot;&gt;Manera manual&lt;/h4&gt;</content><author><name>ARgoN</name></author><category term="Pentesting" /><category term="Herramientas" /><category term="Windows" /><category term="Linux" /><category term="Domain Controller" /><category term="Guías" /><category term="Privilege Escalation" /><summary type="html">En este post están los apuntes que considero importante, también algunos recordatorios</summary></entry><entry><title type="html">Herramientas de Hacking</title><link href="http://localhost:4000/Herramientas-de-Hacking/" rel="alternate" type="text/html" title="Herramientas de Hacking" /><published>2020-01-30T00:00:00-05:00</published><updated>2020-01-30T00:00:00-05:00</updated><id>http://localhost:4000/Herramientas-de-Hacking</id><content type="html" xml:base="http://localhost:4000/Herramientas-de-Hacking/">&lt;h3 id=&quot;herramientas-de-hacking-y-pentesting&quot;&gt;Herramientas de hacking y pentesting&lt;/h3&gt;
&lt;p&gt;Esta sección es una recopilación de herramientas que nos pueden ser útliles pero recomiendo ver 
el código fuente e intentar recrearlo por nuestra cuenta:&lt;/p&gt;</content><author><name>ARgoN</name></author><category term="Burpsuite" /><category term="Bypassing" /><summary type="html">Esta sección es dedicada a programas y aplicaciones interesantes para el hacking</summary></entry><entry><title type="html">Apuntes Hack The Box</title><link href="http://localhost:4000/Apuntes-Hack-The-Box/" rel="alternate" type="text/html" title="Apuntes Hack The Box" /><published>2020-01-29T00:00:00-05:00</published><updated>2020-01-29T00:00:00-05:00</updated><id>http://localhost:4000/Apuntes-Hack-The-Box</id><content type="html" xml:base="http://localhost:4000/Apuntes-Hack-The-Box/">&lt;h3 id=&quot;apuntes-básicos&quot;&gt;Apuntes básicos:&lt;/h3&gt;

&lt;p&gt;Primero hacer &lt;strong&gt;ping&lt;/strong&gt; a la &lt;strong&gt;ip&lt;/strong&gt; para vertificar si esta recibe paquetes&lt;/p&gt;

&lt;p&gt;Después debemos realizar un escaneo de puertos con &lt;strong&gt;nmap&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nmap &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Como vemos el comando lleva&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-sV&lt;/strong&gt; sirve para la &lt;strong&gt;Detección de versiones&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-O&lt;/strong&gt; 	sirve para la &lt;strong&gt;Detección del sistema operatico&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Después de ejecutar el código nos damos cuenta que tiene un servicio llamado &lt;strong&gt;FTP&lt;/strong&gt;
&lt;strong&gt;(File Transfer Protocol)&lt;/strong&gt; el que se encarga de transferir archivos de manera manual o 
automática por medio de client-server, a veces está mal configurada y se puede explotar.
Tener en cuenta servicios adicionales como &lt;em&gt;SSH/HTTPD (Secure Shell Protocol/Web Server)&lt;/em&gt;
que permite &lt;strong&gt;recibir y enviar archivos&lt;/strong&gt; que se pueden usar para configurar el &lt;strong&gt;servidor web&lt;/strong&gt;
o servir registros a una fuente externa.&lt;/p&gt;

&lt;div&gt;
&lt;p style=&quot;text-align:center;&quot;&gt;
&lt;img src=&quot;https://i1.wp.com/nksistemas.com/wp-content/uploads/2012/06/puertos.png?ssl=1&quot; alt=&quot;JuveYell&quot; width=&quot;500px&quot; /&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Como se ve en la imagen tenemos sus puerto con sus servicios, tener en cuenta &lt;strong&gt;port 21:ftp&lt;/strong&gt;
&lt;strong&gt;port 22:SSH&lt;/strong&gt; &lt;strong&gt;port 80:Web Server&lt;/strong&gt; pero como es una máquina simple no tendrá seguridad y 
podremos ingresar con los siguientes comandos:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;ftp &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
Connected to &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
220 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;vsFTPd 3.0.3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Name &lt;span class=&quot;o&quot;&gt;({&lt;/span&gt;IP &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;:&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;username&lt;span class=&quot;o&quot;&gt;})&lt;/span&gt;:
331 Please specify the password.
Password:&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Nos pide un usuario y contraseña el cual si está mal configurado se podrá acceder con username: &lt;del&gt;anonymous&lt;/del&gt;
y con cualquier contraseña ya que el servicio ignorará la contraseña.&lt;/p&gt;

&lt;h3 id=&quot;smbclient&quot;&gt;smbclient&lt;/h3&gt;

&lt;p&gt;Alojado en el puerto &lt;strong&gt;445&lt;/strong&gt;, utilizaremos un script llamado &lt;strong&gt;smbclient -h&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;smbclient &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;–List = Host&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Con el comando L se selecciona el hostde destino para la solicitud de conexión, con esto esperamos
la siguiente respuesta aunque no siempre es igual en todas las maquinas:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;    ADMIN&lt;span class=&quot;nv&quot;&gt;$:&lt;/span&gt; Los recursos compartidos de red ocultas creado por windows, 
	    permite tener acceso remoto&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;no se elimina, solo se deshabilitan&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        C&lt;span class=&quot;nv&quot;&gt;$:&lt;/span&gt; Sistema Operativo
      IPC&lt;span class=&quot;nv&quot;&gt;$:&lt;/span&gt; Recursos compartidos
WorkShares: Custom Share&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Para poder ver los archivos que se encuentran dentro de estos recursos compartidos usamos el sgte comando:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;smbclient &lt;span class=&quot;se&quot;&gt;\\\{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;Recurso-Compartido&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;xfreerdp&quot;&gt;xfreerdp&lt;/h3&gt;

&lt;p&gt;Alojado en el puerto &lt;strong&gt;3389&lt;/strong&gt; normalmente usado para &lt;strong&gt;RDP(Remote Desktop Protocol)&lt;/strong&gt;, utilizaremos un script
llamado &lt;strong&gt;xfreerdp&lt;/strong&gt; que permitirá ver la pantalla de la victima.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;xfreerdp &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;file] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;options] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;/v:&amp;lt;server&amp;gt;[:port]]&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Como es una maquina simple solo usaremos el sgte comando &lt;strong&gt;xfreerdp /v:{IP}&lt;/strong&gt;, nos pedirá un usuario y contraseña
podríamos usar los sgtes nombres:”admin,  administrator, root, user”&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;xfreerdp /v:&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /u:Administrator&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;sql-injection&quot;&gt;SQL Injection&lt;/h2&gt;

&lt;p&gt;Modificamos el comando aumentandolé un nuevo parametro:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nmap &lt;span class=&quot;nt&quot;&gt;-sC&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;IP&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;-sC&lt;/strong&gt; sirve para realizar un analisis de secuencia de comandos. Es equivalente a –script = default.&lt;/p&gt;

&lt;p&gt;Cuando tenemos el &lt;strong&gt;puerto: 80&lt;/strong&gt; abierto que es referente a un servidor web, como ya
sabemos las páginas web tienen directorios los cuales tenemos que visitar para poder encontrar una vulnerabilidad
y poder explotarla, directorios como: &lt;strong&gt;Home , About , Contact , Register , and Log-in pages&lt;/strong&gt;
Para esto usaremos una herramienta llamada &lt;a href=&quot;https://github.com/OJ/gobuster.git&quot;&gt;GoBuster&lt;/a&gt; que se encargará de 
encontrar esos directorios.&lt;/p&gt;

&lt;p&gt;Lo instalamos:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;go get &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; go build
go &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;gobuster &lt;span class=&quot;nt&quot;&gt;--help&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SQL Service 
  →Database
   →Tables
    →Columns↘
             Data	
    →Rows   ↗
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;En el “grafico” anterior vemos como funciona un servicion SQL&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;       User Search                 Permissions Check
       ___________                 _________________
      /           ↘               /                 ↘	 
Client             Web Aplication                    SQL Service 
   
HTTP 200 la pagína o recurso existe así que procede con el envio de los datos
     404 no encontrado, la página o recurso no existe
     302 página o recurso encontrado pero mediante redireción
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ejemplo de SQL Injection&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mysql_connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;db_username&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;db_password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;# Connection to the SQLDatabase.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mysql_select_db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;users&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;# Database table where user information is stored.&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;# User-specified username.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;#User-specified password.&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$sql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM users WHERE username='&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' AND password='&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Query for user/pass retrieval from the DB.&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mysql_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Performs query stored in $sql and stores it in $result.&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mysql_num_rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Sets the $count variable to the number of rows stored in $result.&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Checks if there's at least 1 result, and if yes:&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;# Creates a session with the specified $username.&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;$_SESSION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;# Creates a session with the specified $password.&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;location:home.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;# Redirect to homepage.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;# If there's no singular result of a user/pass combination:&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;location:login.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;# No redirection, as the login failed in the case the $count &lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;#variable is not equal to&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;#1, HTTP Response code 200 OK.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Esto es un concepto básico pero util en algunos casos como se mira en el código &lt;strong&gt;php&lt;/strong&gt; el &lt;strong&gt;#&lt;/strong&gt;
sirve para hacer comentarios, lo podemos usar para ingresar como un usuario admin usando un fallo
en el código ingresando así&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;user: admin'#
password: #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En verdad la contraseña no importa ya que con el &lt;strong&gt;#&lt;/strong&gt; lo toma como un comentario y ponemos 
cualquier cosa en contraseña ya que no podemos ingresar si no colocamos un texto en ese recuadro.&lt;/p&gt;

&lt;h3 id=&quot;gobuster&quot;&gt;GoBuster&lt;/h3&gt;</content><author><name>ARgoN</name></author><category term="Hack The Box" /><category term="Vulnerabilidad" /><category term="Write Up" /><summary type="html">En esta sección están los apuntes de una página que se usa normalmente para hackear</summary></entry><entry><title type="html">Hacking de redes WIFI</title><link href="http://localhost:4000/Hacking-de-redes-WIFI/" rel="alternate" type="text/html" title="Hacking de redes WIFI" /><published>2020-01-29T00:00:00-05:00</published><updated>2020-01-29T00:00:00-05:00</updated><id>http://localhost:4000/Hacking-de-redes-WIFI</id><content type="html" xml:base="http://localhost:4000/Hacking-de-redes-WIFI/">&lt;h3 id=&quot;herramientas-de-hacking-y-pentesting&quot;&gt;Herramientas de hacking y pentesting&lt;/h3&gt;
&lt;p&gt;Esta sección es una recopilación de herramientas que nos pueden ser útliles pero recomiendo ver 
el código fuente e intentar recrearlo por nuestra cuenta:&lt;/p&gt;</content><author><name>ARgoN</name></author><category term="Hospitales" /><category term="Dicom" /><category term="Radiant" /><summary type="html">Durante los últimos meses, hemos visto noticias por todos lados de datos médicos de pacientes los cuales han quedado expuestos por internet. Es algo alarmante pero no sorprendente teniendo en cuenta cómo está la seguridad a día de hoy. En el siguiente artículo, os explico en qué consiste este `gran fallo` y cómo es posible que estos datos queden expuestos al alcance de cualquiera.</summary></entry></feed>